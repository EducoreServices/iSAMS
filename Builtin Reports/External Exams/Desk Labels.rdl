<?xml version="1.0" encoding="utf-8"?><Report xmlns="http://schemas.microsoft.com/sqlserver/reporting/2010/01/reportdefinition" xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner"><AutoRefresh>0</AutoRefresh><DataSources><DataSource Name="iSAMS"><DataSourceReference>iSAMS</DataSourceReference><rd:SecurityType>None</rd:SecurityType><rd:DataSourceID>5fb7e692-1062-4051-bcb4-48ba1c9e8784</rd:DataSourceID></DataSource></DataSources><DataSets><DataSet Name="Timetable"><Query><DataSourceName>iSAMS</DataSourceName><QueryParameters><QueryParameter Name="@txtSchoolID"><Value>=Parameters!txtSchoolID.Value</Value></QueryParameter><QueryParameter Name="@intCycle"><Value>=Parameters!intCycle.Value</Value></QueryParameter><QueryParameter Name="@intNCYear"><Value>=Parameters!intNCYear.Value</Value></QueryParameter><QueryParameter Name="@txtForm"><Value>=Parameters!txtForm.Value</Value></QueryParameter><QueryParameter Name="@txtBoardingHouse"><Value>=Parameters!txtBoardingHouse.Value</Value></QueryParameter><QueryParameter Name="@txtAcademicHouse"><Value>=Parameters!txtAcademicHouse.Value</Value></QueryParameter><QueryParameter Name="@intSystemStatus"><Value>=Parameters!intSystemStatus.Value</Value></QueryParameter><QueryParameter Name="@txtSubject"><Value>=Parameters!txtSubject.Value</Value></QueryParameter><QueryParameter Name="@txtModuleCode"><Value>=Parameters!txtModuleCode.Value</Value></QueryParameter><QueryParameter Name="@txtLevel"><Value>=Parameters!txtLevel.Value</Value></QueryParameter><QueryParameter Name="@txtQualification"><Value>=Parameters!txtQualification.Value</Value></QueryParameter><QueryParameter Name="@txtStartDate"><Value>=Parameters!txtStartDate.Value</Value></QueryParameter><QueryParameter Name="@txtEndDate"><Value>=Parameters!txtEndDate.Value</Value></QueryParameter></QueryParameters><CommandText>
SELECT
Timetable.EntryID AS intEntryID,
Timetable.SchoolID AS txtSchoolID,
Timetable.Location AS txtLocation,
Timetable.Subject AS txtSubject,
Timetable.Board AS txtExamBoard,
Timetable.ExamStart AS dtExamStart,
Timetable.ComponentCode AS txtComponentCode,
Timetable.ComponentTitle AS txtComponentTitle,
Timetable.SeatNumber AS txtSeatNumber,
Timetable.TimeAllowed AS intTimeAllowedInMinutes,
TblExamManagerCandidateOptions.intExtraTime,
CASE WHEN Timetable.isSQAExam = 1 THEN 'Yes' ELSE 'No' END AS txtSQAExam,
TblExamManagerCycles.intFormatMonth AS intCycleMonth,
TblExamManagerCycles.intFormatYear AS intCycleYear,
TblExamManagerCentre.txtCentreId,
TblExamManagerCentre.txtSQACentreId,

TblPupilmanagementPupils.txtForename,
TblPupilmanagementPupils.txtMiddleNames,
TblPupilmanagementPupils.txtSurname,
TblPupilmanagementPupils.txtCandidateNumber,
TblPupilmanagementPupils.txtCandidateCode,
TblPupilmanagementPupils.txtCandidateForenames,
TblPupilmanagementPupils.txtCandidateSurname,
TblPupilmanagementPupils.txtGender,
TblPupilmanagementPupils.intNCYear,
TblPupilmanagementPupils.txtForm,
TblPupilmanagementPupils.txtDOB AS dtDOB,
TblPupilmanagementPupils.txtBoardingHouse,
TblPupilmanagementPupils.txtAcademicHouse,
TblPupilmanagementPupils.txtTutor,
SQARegistrations.SCN AS txtSCN
FROM VwExamManagerStudentExams AS Timetable
INNER JOIN TblExamManagerCycles ON Timetable.CycleID = TblExamManagerCycles.TblExamManagerCyclesID
INNER JOIN TblExamManagerCentre ON TblExamManagerCycles.txtCentreId = TblExamManagerCentre.txtCentreId
INNER JOIN TblPupilmanagementPupils ON Timetable.SchoolID = TblPupilmanagementPupils.txtSchoolID
LEFT OUTER JOIN VwExamManagerSQACandidateRegistrations AS SQARegistrations ON TblPupilmanagementPupils.txtSchoolID = SQARegistrations.SchoolID
LEFT OUTER JOIN TblExamManagerCandidateOptions ON Timetable.SchoolID = TblExamManagerCandidateOptions.txtSchoolID 

WHERE TblPupilmanagementPupils.intIsCandidate = 1
AND Timetable.CycleID = @intCycle

AND (TblPupilmanagementPupils.txtSchoolID IN (SELECT ID FROM dbo.SplitCSV(@txtSchoolID) AS SplitCSV_1) OR @txtSchoolID IS NULL)
AND (TblPupilmanagementPupils.intNCYear IN (SELECT ID FROM dbo.SplitCSV(@intNCYear) AS SplitCSV_1) OR @intNCYear IS NULL) 
AND (TblPupilmanagementPupils.txtForm IN (SELECT ID FROM dbo.SplitCSV(@txtForm) AS SplitCSV_1) OR @txtForm IS NULL) 
AND (TblPupilmanagementPupils.txtBoardingHouse IN(SELECT ID	FROM dbo.SplitCSV(@txtBoardingHouse) AS SplitCSV_1) OR @txtBoardingHouse IS NULL)
AND (TblPupilmanagementPupils.txtAcademicHouse IN(SELECT ID FROM dbo.SplitCSV(@txtAcademicHouse) AS SplitCSV_1) OR @txtAcademicHouse IS NULL)


AND (Timetable.Subject IN(SELECT ID FROM dbo.SplitCSV(@txtSubject) AS SplitCSV_1) OR @txtSubject IS NULL)
AND (Timetable.ComponentCode IN(SELECT ID FROM dbo.SplitCSV(@txtModuleCode) AS SplitCSV_1) OR @txtModuleCode IS NULL)
AND (Timetable.QualificationLevel IN (SELECT ID FROM dbo.SplitCSV(@txtLevel) AS SplitCSV_1) OR @txtLevel IS NULL)
AND (Timetable.Qualification IN (SELECT ID FROM dbo.SplitCSV(@txtQualification) AS SplitCSV_1)  OR @txtQualification IS NULL)
AND (Timetable.ExamStart BETWEEN Convert(Date,@txtStartDate) AND DATEADD(day,1,Convert(Date,@txtEndDate)) OR @txtStartDate IS NULL OR @txtEndDate IS NULL)

AND ((CASE WHEN ((TblPupilmanagementPupils.intSystemStatus = 10 AND TblPupilmanagementPupils.intIsCandidate = 1) 
OR (TblPupilmanagementPupils.txtSchoolID IN
	(SELECT txtSchoolID FROM TblExamManagerReturningCandidates))) THEN 10 
	
	WHEN TblPupilmanagementPupils.intSystemStatus = 1 THEN 1 ELSE NULL END) 
	
	IN (SELECT ID FROM dbo.SplitCSV(@intSystemStatus) AS SplitCSV_1) OR @intSystemStatus IS NULL)</CommandText></Query><Fields><Field Name="txtSchoolID"><DataField>txtSchoolID</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="intEntryID"><DataField>intEntryID</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="txtForename"><DataField>txtForename</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtMiddleNames"><DataField>txtMiddleNames</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtLocation"><DataField>txtLocation</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtSurname"><DataField>txtSurname</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtSubject"><DataField>txtSubject</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtComponentCode"><DataField>txtComponentCode</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtComponentTitle"><DataField>txtComponentTitle</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtCandidateNumber"><DataField>txtCandidateNumber</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtExamBoard"><DataField>txtExamBoard</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtCandidateCode"><DataField>txtCandidateCode</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="dtExamStart"><DataField>dtExamStart</DataField><rd:TypeName>System.DateTime</rd:TypeName></Field><Field Name="txtCandidateForenames"><DataField>txtCandidateForenames</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtCandidateSurname"><DataField>txtCandidateSurname</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtGender"><DataField>txtGender</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="intNCYear"><DataField>intNCYear</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="txtSeatNumber"><DataField>txtSeatNumber</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="intTimeAllowedInMinutes"><DataField>intTimeAllowedInMinutes</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="txtForm"><DataField>txtForm</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtBoardingHouse"><DataField>txtBoardingHouse</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="intExtraTime"><DataField>intExtraTime</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="txtAcademicHouse"><DataField>txtAcademicHouse</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtSQAExam"><DataField>txtSQAExam</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtSCN"><DataField>txtSCN</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="intCycleMonth"><DataField>intCycleMonth</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="intCycleYear"><DataField>intCycleYear</DataField><rd:TypeName>System.Int32</rd:TypeName></Field><Field Name="txtCentreId"><DataField>txtCentreId</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="txtSQACentreId"><DataField>txtSQACentreId</DataField><rd:TypeName>System.String</rd:TypeName></Field><Field Name="dtDOB"><DataField>dtDOB</DataField><rd:TypeName>System.DateTime</rd:TypeName></Field><Field Name="txtTutor"><DataField>txtTutor</DataField><rd:TypeName>System.String</rd:TypeName></Field></Fields></DataSet><DataSet Name="SQAOn"><Query><DataSourceName>iSAMS</DataSourceName><CommandText>SELECT        CASE WHEN blnSQAEnabled = 1 THEN 'Yes' ELSE 'No' END AS txtSQAOn
FROM            TblExamManagerConfiguration</CommandText></Query><Fields><Field Name="txtSQAOn"><DataField>txtSQAOn</DataField><rd:TypeName>System.String</rd:TypeName></Field></Fields></DataSet></DataSets><ReportSections><ReportSection><Body><ReportItems><Tablix Name="Tablix1"><TablixBody><TablixColumns><TablixColumn><Width>10cm</Width></TablixColumn></TablixColumns><TablixRows><TablixRow><Height>2.85cm</Height><TablixCells><TablixCell><CellContents><Rectangle Name="Rectangle1"><ReportItems><Textbox Name="Textbox1"><KeepTogether>true</KeepTogether><Paragraphs><Paragraph><TextRuns><TextRun><Value>=IIF(Fields!txtCandidateForenames.Value = "", Fields!txtForename.Value, Fields!txtCandidateForenames.Value)</Value><Style><FontFamily>arial</FontFamily><FontSize>14pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun><TextRun><Value xml:space="preserve"> </Value><Style><FontFamily>arial</FontFamily><FontSize>14pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun><TextRun><Value>=IIF(Fields!txtCandidateSurname.Value = "", Fields!txtSurname.Value, Fields!txtCandidateSurname.Value)</Value><Style><FontFamily>arial</FontFamily><FontSize>14pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Right</TextAlign></Style></Paragraph><Paragraph><TextRuns><TextRun><Value>Candidate Number: </Value><Style><FontFamily>arial</FontFamily><FontSize>9pt</FontSize><FontWeight>Normal</FontWeight></Style></TextRun><TextRun><Value>=Fields!txtCandidateNumber.Value</Value><Style><FontFamily>arial</FontFamily><FontSize>9pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Right</TextAlign></Style></Paragraph><Paragraph><TextRuns><TextRun><Value>=IIF(First(Fields!txtSQAOn.Value, "SQAOn")="Yes" AND Fields!txtSCN.Value&lt;&gt;"","SCN: ","")</Value><Style><FontFamily>arial</FontFamily><FontSize>9pt</FontSize><FontWeight>Normal</FontWeight></Style></TextRun><TextRun><Value>=IIF(First(Fields!txtSQAOn.Value, "SQAOn")="Yes" AND Fields!txtSCN.Value&lt;&gt;"",Fields!txtSCN.Value,"")</Value><Style><FontFamily>arial</FontFamily><FontSize>9pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Right</TextAlign></Style></Paragraph><Paragraph><TextRuns><TextRun><Value /><Style><FontFamily>arial</FontFamily><FontSize>4pt</FontSize><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Right</TextAlign></Style></Paragraph><Paragraph><TextRuns><TextRun><Value>(</Value><Style><FontFamily>arial</FontFamily><FontWeight>Bold</FontWeight></Style></TextRun><TextRun><Value>=Fields!txtComponentCode.Value</Value><Style><FontFamily>arial</FontFamily><FontWeight>Bold</FontWeight></Style></TextRun><TextRun><Value>) </Value><Style><FontFamily>arial</FontFamily><FontWeight>Bold</FontWeight></Style></TextRun><TextRun><Value>=Fields!txtComponentTitle.Value</Value><Style><FontFamily>arial</FontFamily><FontWeight>Bold</FontWeight></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph><Paragraph><TextRuns><TextRun><Value>=Fields!dtExamStart.Value</Value><Style><FontFamily>arial</FontFamily><FontWeight>Bold</FontWeight><Format>d MMMM yyyy (HH:mm)</Format></Style></TextRun></TextRuns><Style><TextAlign>Center</TextAlign></Style></Paragraph></Paragraphs><rd:DefaultName>Textbox1</rd:DefaultName><Top>0.25cm</Top><Left>0.3cm</Left><Height>2.35cm</Height><Width>9.4cm</Width><Style><Border><Style>None</Style></Border><VerticalAlign>Top</VerticalAlign><PaddingLeft>2pt</PaddingLeft><PaddingRight>2pt</PaddingRight></Style></Textbox></ReportItems><KeepTogether>true</KeepTogether><Style><Border><Style>Solid</Style><Width>0.5pt</Width></Border></Style></Rectangle></CellContents></TablixCell></TablixCells></TablixRow></TablixRows></TablixBody><TablixColumnHierarchy><TablixMembers><TablixMember /></TablixMembers></TablixColumnHierarchy><TablixRowHierarchy><TablixMembers><TablixMember><Group Name="txtSchoolID_txtComponentCode_dtExamStart_txtComponentTitle"><GroupExpressions><GroupExpression>=Fields!txtSchoolID.Value</GroupExpression><GroupExpression>=Fields!txtComponentCode.Value</GroupExpression><GroupExpression>=Fields!dtExamStart.Value</GroupExpression><GroupExpression>=Fields!txtComponentTitle.Value</GroupExpression></GroupExpressions></Group><SortExpressions><SortExpression><Value>=Fields!dtExamStart.Value</Value></SortExpression><SortExpression><Value>=Fields(Parameters!txtOrderBy.Value).Value</Value></SortExpression><SortExpression><Value>=IIF(Fields!txtCandidateSurname.Value="",Fields!txtSurname.Value,Fields!txtCandidateSurname.Value)</Value></SortExpression><SortExpression><Value>=IIF(Fields!txtCandidateSurname.Value = "", Fields!txtSurname.Value, Fields!txtCandidateSurname.Value)</Value></SortExpression></SortExpressions></TablixMember></TablixMembers></TablixRowHierarchy><DataSetName>Timetable</DataSetName><Height>2.85cm</Height><Width>10cm</Width><Style><Border><Style>None</Style></Border></Style></Tablix></ReportItems><Height>1.12205in</Height><Style /></Body><Width>10cm</Width><Page><PageHeight>29.7cm</PageHeight><PageWidth>21cm</PageWidth><LeftMargin>0.5cm</LeftMargin><RightMargin>0.5cm</RightMargin><TopMargin>0.5cm</TopMargin><BottomMargin>0.5cm</BottomMargin><Columns>2</Columns><ColumnSpacing>0cm</ColumnSpacing><Style /></Page></ReportSection></ReportSections><ReportParameters><ReportParameter Name="txtSchoolID"><DataType>String</DataType><Nullable>true</Nullable><AllowBlank>true</AllowBlank><Prompt>txtSchoolID</Prompt></ReportParameter><ReportParameter Name="intNCYear"><DataType>String</DataType><Nullable>true</Nullable><AllowBlank>true</AllowBlank><Prompt>int NCYear</Prompt></ReportParameter><ReportParameter Name="txtForm"><DataType>String</DataType><Nullable>true</Nullable><AllowBlank>true</AllowBlank><Prompt>txt Form</Prompt></ReportParameter><ReportParameter Name="txtBoardingHouse"><DataType>String</DataType><Nullable>true</Nullable><AllowBlank>true</AllowBlank><Prompt>txt Boarding House</Prompt></ReportParameter><ReportParameter Name="txtAcademicHouse"><DataType>String</DataType><Nullable>true</Nullable><AllowBlank>true</AllowBlank><Prompt>txt Academic House</Prompt></ReportParameter><ReportParameter Name="intSystemStatus"><DataType>String</DataType><Nullable>true</Nullable><AllowBlank>true</AllowBlank><Prompt>int System Status</Prompt></ReportParameter><ReportParameter Name="intCycle"><DataType>String</DataType><Prompt>int Cycle</Prompt></ReportParameter><ReportParameter Name="txtSubject"><DataType>String</DataType><Nullable>true</Nullable><AllowBlank>true</AllowBlank><Prompt>txt Subject</Prompt></ReportParameter><ReportParameter Name="txtModuleCode"><DataType>String</DataType><Nullable>true</Nullable><AllowBlank>true</AllowBlank><Prompt>txt Module Code</Prompt></ReportParameter><ReportParameter Name="txtLevel"><DataType>String</DataType><Nullable>true</Nullable><AllowBlank>true</AllowBlank><Prompt>txt Level</Prompt></ReportParameter><ReportParameter Name="txtQualification"><DataType>String</DataType><Nullable>true</Nullable><AllowBlank>true</AllowBlank><Prompt>txt Qualification</Prompt></ReportParameter><ReportParameter Name="txtOrderBy"><DataType>String</DataType><Prompt>txtOrderBy</Prompt></ReportParameter><ReportParameter Name="txtStartDate"><DataType>DateTime</DataType><Nullable>true</Nullable><Prompt>txt Start Date</Prompt></ReportParameter><ReportParameter Name="txtEndDate"><DataType>DateTime</DataType><Nullable>true</Nullable><Prompt>txt End Date</Prompt></ReportParameter></ReportParameters><EmbeddedImages><EmbeddedImage Name="iSAMSLine"><MIMEType>image/png</MIMEType><ImageData>iVBORw0KGgoAAAANSUhEUgAAAs8AAAAECAIAAAD+oEW+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAINSURBVGhD7ZYxSoNBEIUtNL1NFImeIPEQ1h7BSwiJpWhl5Q38QYx1tJF4CisLo8cQrd1kYJnMPOaNqRcey8zb7+tn67D7rBncLeoblAaQBK6eIWBKnQDQXxALSj1nLN9QlwKm9A11KWBKCEhKOei+Bt3nUfdR3sNucXrzdnl8+9y/ft5b5ql/Vd8aX1Kgxlt5V5K0kphZ85aOBgKXAqbUc2B52KxByYFVyjA7OH8/O/m93/2e9n6X2fl52K5vjS8pYEoISIIvCQR8SYEab+VdSdJKYmbNWzoagK6eIbCGTXvfjzsvs/2L+Wj8OiyZzI/H8+HkdVQjq351b1ZY6vm/lm6oSwGzQkASfEkg4EsKwECMukkricnaro2U5RvqUsCUvqEuBUwJAUkp27WxmaWjgcClgCn1HFgeNmtQcmCVMrRrA2KBK0laScyseUtHA9DVMwTWsHZtOEASfEkg4EsKwECMukkricnaro2U5RvqUsCUvqEuBUwJAUkp27WxmaWjgcClgCn1HFgeNmtQcmCVMrRrA2KBK0laScyseUtHA9DVMwTWsHZtOEASfEkg4EsKwECMukkricnaro2U5RvqUsCUvqEuBUwJAUkp27WxmaWjgcClgCn1HFgeNmtQcmCVMrRrA2KBK0laScyseUtHA9DVMwTWsHZtOEASfEkg4EsKwECMukkriS3X+fAPfoNWybNefjEAAAAASUVORK5CYII=</ImageData></EmbeddedImage></EmbeddedImages><rd:ReportUnitType>Cm</rd:ReportUnitType><rd:ReportID>0875c508-9a5c-49aa-82aa-015990356b1e</rd:ReportID></Report>